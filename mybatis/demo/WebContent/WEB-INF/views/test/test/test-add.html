<script type="text/javascript" charset="utf-8" src="${ctxPath}/static/ueditor-dev-1.5.0/ueditor.all.js"></script>
<script type="text/javascript" charset="utf-8" src="${ctxPath}/static/ueditor-dev-1.5.0/lang/zh-cn/zh-cn.js"></script>
<style>
    #form-row {
        border: 2px #319be7 solid;
        border-top-right-radius: 10px;
        border-top-left-radius: 5px;
        border-bottom-left-radius: 6px;
        border-bottom-right-radius: 20px;
        background: #ffffff;
        padding: 25px;
    }
</style>
@var selectOptions;
<div class="layer">
    <div style="background-color: #fff;border: 1px dashed #e0e0e0;padding: 5px;"><font
            style="color:red">提示信息：红色文字为必填选项</font></div>
    <form class="FormGrid" id="table-form" method="post" enctype="multipart/form-data" action="">
        <div class="form-horizontal" role="form" style="margin-top:20px;">
            <div class="container-fluid">
                <div class="row" id="form-row">
                    <div class="col-xs-4">
                        <div class="form-group">
                            <label class="col-sm-4 control-label red">用户：</label>
                            <div class="col-sm-8">
                                <input id="userId" name="userId" type="text" value="${entry.userId!}" maxlength="100"
                                       required/>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="form-group">
                            <label class="col-sm-4 control-label ">机构：</label>
                            <div class="col-sm-8">
                                <input id="organNo" name="organNo" type="text" value="${entry.organNo!}"
                                       maxlength="100"/>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="form-group">
                            <label class="col-sm-4 control-label ">字段1：</label>
                            <div class="col-sm-8">
                                <input id="coloum1" name="coloum1" type="text" value="${entry.coloum1!}"
                                       maxlength="10"/>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="form-group">
                            <label class="col-sm-4 control-label ">字段2：</label>
                            <div class="col-sm-8">
                                <input id="coloum2" name="coloum2" type="text" value="${entry.coloum2!}"
                                       maxlength="100"/>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="form-group">
                            <label class="col-sm-4 control-label ">字段3：</label>
                            <div class="col-sm-8">
                                <input id="coloum3" name="coloum3" type="text" value="${entry.coloum3!}"
                                       maxlength="100"/>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="form-group">
                            <label class="col-sm-4 control-label ">字段4：</label>
                            <div class="col-sm-8">
                                <input id="coloum4" name="coloum4" type="text" value="${entry.coloum4!}"
                                       maxlength="100"/>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="form-group">
                            <label class="col-sm-4 control-label ">字段5：</label>
                            <div class="col-sm-8">
                                <input id="coloum5" name="coloum5" type="text" value="${entry.coloum5!}" maxlength="4"/>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="form-group">
                            <label class="col-sm-4 control-label ">字段6：</label>
                            <div class="col-sm-8">
                                <input id="coloum6" name="coloum6" type="text" value="${entry.coloum6!}"
                                       maxlength="100"/>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="form-group">
                            <label class="col-sm-4 control-label ">字段7：</label>
                            <div class="col-sm-8">
                                <input id="coloum7" name="coloum7" type="text" value="${entry.coloum7!}" maxlength="0"/>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="form-group">
                            <label class="col-sm-4 control-label ">字段8：</label>
                            <div class="col-sm-8">
                                <input id="coloum8" name="coloum8" type="text" value="${entry.coloum8!}"
                                       maxlength="10"/>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="form-group">
                            <label class="col-sm-4 control-label ">字段9：</label>
                            <div class="col-sm-8">
                                <input id="coloum9" name="coloum9" type="text" value="${entry.coloum9!}"
                                       maxlength="10"/>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="form-group">
                            <label class="col-sm-4 control-label ">字段10：</label>
                            <div class="col-sm-8">
                                <input id="coloum10" name="coloum10" type="text" value="${entry.coloum10!}"
                                       maxlength="100"/>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="form-group">
                            <label class="col-sm-4 control-label ">富文本：</label>
                            <div class="col-sm-8">
                                <input id="richText" name="richText" type="text" value="${entry.richText!}"
                                       maxlength="65535"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

<script type="text/javascript">
    //初始化所有的下拉框，带搜索
    $(".chosen_select").chosen({width: "100%", search_contains: true, disable_search_threshold: 10});
    //描述框自动扩张高度
    $('textarea[class*=autosize]').autosize({append: "\n"});

    $(function () {
        var layerIndex = layer.index;	//当前层参数
        $('#mySwitch input').bootstrapSwitch('state', false);
        //金额格式化
        $(".money").blur(function () {
            var money = $(this).val();
            var temp_money = accounting.toFixed(money, 2);
            $(this).val($.trim(temp_money));
        })
        //表单校验
        $("#table-form").validate({
            messages: {
                id: {required: "请输入主键！"},
                userId: {required: "请输入用户！"},
            },
            submitHandler: function (form) {
                var indexLoad = loading("系统正在提交数据，请稍后......");
                $("#table-form").ajaxSubmit({
                    type: 'post',
                    url: '${ctxPath}/test/test/save',
                    success: function (data) {
                        layer.close(indexLoad);
                        if (data.code == 1) {
                            successMsg(data.msg, function () {
                                layer.close(layerIndex);	//关闭层
                                query();	//刷新列表数据
                            });
                        } else {
                            failMsg(data.msg);
                        }
                    }
                });
            },
            errorPlacement: function (error, element) {
                tip.errorTip(error.html(), element);
            }
        });
    });
</script>